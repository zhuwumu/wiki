import{_ as l,c as n,o as h,ah as a,j as s,cc as t,cd as k,ce as p,cf as e,cg as r,ch as E}from"./chunks/framework.Dgw6jcLr.js";const A=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"åå°ç®¡ç†ç³»ç»Ÿè„šæ‰‹æ¶.md","filePath":"åå°ç®¡ç†ç³»ç»Ÿè„šæ‰‹æ¶.md","lastUpdated":null}'),d={name:"åå°ç®¡ç†ç³»ç»Ÿè„šæ‰‹æ¶.md"};function g(y,i,c,o,F,u){return h(),n("div",null,[...i[0]||(i[0]=[a(`<div class="danger custom-block"><p class="custom-block-title">ï¼æ³¨æ„ï¼š</p><p>æœ¬æ€»ç»“æ—¨åœ¨æ­å»ºç¬¦åˆè‡ªå·±é¡¹ç›®çš„è„šæ‰‹æ¶ï¼Œå¿«é€Ÿå¼€å‘ï¼Œæé«˜æ•ˆç‡å¹¶å‡å°‘bugï¼Œæ‰€åˆ—æ–¹æ¡ˆå¹¶ä¸å®Œå…¨é€‚ç”¨å…¶ä»–å…¬å¸é¡¹ç›®æˆ–æ–¹æ¡ˆå®Œç¾ï¼Œåˆé€‚æ‰æ˜¯æœ€å¥½çš„ï¼Œè¯·ç†æ€§æ¢è®¨ã€‚</p></div><h2 id="ğŸ“¢-é¡¹ç›®ç®€ä»‹" tabindex="-1">ğŸ“¢ é¡¹ç›®ç®€ä»‹ <a class="header-anchor" href="#ğŸ“¢-é¡¹ç›®ç®€ä»‹" aria-label="Permalink to â€œğŸ“¢ é¡¹ç›®ç®€ä»‹â€">â€‹</a></h2><ul><li><p><strong>ğŸš€ å¼€å‘æ¡†æ¶ï¼š</strong> åŸºäºJDK17ã€SpringBoot3ã€SpringSecurity6ã€JWTã€Redisã€Mybatis-Plusã€Knife4jæ„å»ºå‰åç«¯åˆ†ç¦»ï¼Œæ¥å£é‡‡ç”¨ <code>RESTful</code> é£æ ¼</p></li><li><p>ğŸ” <strong>å®‰å…¨è®¤è¯ï¼š</strong> æƒé™è®¤è¯ä½¿ç”¨SpringSecurityã€JWTï¼Œæ”¯æŒå¤šç»ˆç«¯è®¤è¯ï¼Œæ”¯æŒåˆ†å¸ƒå¼ã€æ”¯æŒå¤šæ•°æ®æº</p></li><li><p><strong>ğŸ”‘ æƒé™ç®¡ç†ï¼š</strong> åŸºäº RBAC æ¨¡å‹ï¼Œå®ç°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼Œæ¶µç›–æ¥å£æ–¹æ³•å’ŒæŒ‰é’®çº§åˆ«ã€‚æ”¯æŒåŠ¨æ€åŠ è½½æƒé™èœå•ï¼Œå¤šæ–¹å¼è½»æ¾æ§åˆ¶æƒé™</p></li><li><p><strong>ğŸŒº åŠŸèƒ½æ¨¡å—ï¼š</strong> åŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€èœå•ç®¡ç†ã€éƒ¨é—¨ç®¡ç†ã€å­—å…¸ç®¡ç†ç­‰å¤šä¸ªåŠŸèƒ½ã€‚</p></li><li><p><strong>ğŸš€ å…¼å®¹æ€§ï¼š</strong> ç”¨æˆ·ç®¡ç†é»˜è®¤å…¼å®¹äº†mysqlã€è¾¾æ¢¦ã€äººå¤§é‡‘ä»“ç­‰æ•°æ®åº“çš„sqlå†™æ³•ï¼Œå¼€ç®±å³ç”¨ï¼ˆå¾…å®Œå–„ï¼‰ã€‚æ”¯æŒæ‰“åŒ… <code>jar</code> æˆ– <code>war</code>ã€‚</p></li><li><p><strong>ğŸ“˜ æ¥å£æ–‡æ¡£ï¼š</strong> è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£ï¼Œæ”¯æŒåœ¨çº¿è°ƒè¯•ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p></li><li><p><strong>ğŸŒˆ é›†æˆæ’ä»¶ï¼š</strong></p></li><li><p>éªŒè¯ç </p></li><li><p>é˜²é‡å¤æäº¤</p><ul><li>æ•°æ®æƒé™</li><li>easyExcel</li><li>xxljob</li><li>minio</li></ul></li><li><p><strong>ğŸš€ è¾…åŠ©å·¥å…·ï¼š</strong> ä»£ç ç”Ÿæˆå™¨MybatisXæ’ä»¶ï¼Œä¸€é”®ç›´æ¥åœ¨å¯¹åº”ç›®å½•ç”Ÿæˆå¢åˆ æ”¹æŸ¥ã€‚</p></li></ul><h2 id="ğŸš€-æŠ€æœ¯é€‰å‹" tabindex="-1">ğŸš€ æŠ€æœ¯é€‰å‹ <a class="header-anchor" href="#ğŸš€-æŠ€æœ¯é€‰å‹" aria-label="Permalink to â€œğŸš€ æŠ€æœ¯é€‰å‹â€">â€‹</a></h2><h4 id="_1ã€ç³»ç»Ÿç¯å¢ƒ" tabindex="-1">1ã€ç³»ç»Ÿç¯å¢ƒ <a class="header-anchor" href="#_1ã€ç³»ç»Ÿç¯å¢ƒ" aria-label="Permalink to â€œ1ã€ç³»ç»Ÿç¯å¢ƒâ€">â€‹</a></h4><ul><li>Java EE 17ã€Apache Maven 3.6+</li></ul><h4 id="_2ã€ä¸»æ¡†æ¶" tabindex="-1">2ã€ä¸»æ¡†æ¶ <a class="header-anchor" href="#_2ã€ä¸»æ¡†æ¶" aria-label="Permalink to â€œ2ã€ä¸»æ¡†æ¶â€">â€‹</a></h4><ul><li>Spring Boot 3.xxã€SpringSecurity6</li></ul><h4 id="_3ã€æŒä¹…å±‚" tabindex="-1">3ã€æŒä¹…å±‚ <a class="header-anchor" href="#_3ã€æŒä¹…å±‚" aria-label="Permalink to â€œ3ã€æŒä¹…å±‚â€">â€‹</a></h4><ul><li>Mybtais-plus 3.5.xã€Alibaba Druidã€Hibernate Validation</li></ul><h4 id="_4ã€å¿…éœ€æ’ä»¶" tabindex="-1">4ã€å¿…éœ€æ’ä»¶ <a class="header-anchor" href="#_4ã€å¿…éœ€æ’ä»¶" aria-label="Permalink to â€œ4ã€å¿…éœ€æ’ä»¶â€">â€‹</a></h4><ul><li>Lombokã€mapstruct</li></ul><h2 id="ğŸš€-å†…ç½®åŠŸèƒ½" tabindex="-1">ğŸš€ å†…ç½®åŠŸèƒ½ <a class="header-anchor" href="#ğŸš€-å†…ç½®åŠŸèƒ½" aria-label="Permalink to â€œğŸš€ å†…ç½®åŠŸèƒ½â€">â€‹</a></h2><ul><li>ç”¨æˆ·ç®¡ç†</li><li>è§’è‰²ç®¡ç†</li><li>èœå•ç®¡ç†</li><li>éƒ¨é—¨ç®¡ç†</li><li>å­—å…¸ç®¡ç†</li><li>åœ¨çº¿æ¥å£æ–‡æ¡£</li><li>webSocket</li><li>å‚æ•°ç®¡ç†</li><li>åœ¨çº¿ç”¨æˆ·</li><li>æ“ä½œæ—¥å¿—</li></ul><h2 id="ğŸ“-é¡¹ç›®ç»“æ„" tabindex="-1">ğŸ“ é¡¹ç›®ç»“æ„ <a class="header-anchor" href="#ğŸ“-é¡¹ç›®ç»“æ„" aria-label="Permalink to â€œğŸ“ é¡¹ç›®ç»“æ„â€">â€‹</a></h2><h3 id="å•ä½“" tabindex="-1">å•ä½“ <a class="header-anchor" href="#å•ä½“" aria-label="Permalink to â€œå•ä½“â€">â€‹</a></h3><blockquote><p>ä¾èµ–å…³ç³» cetc-admin &lt;-- cetc-system &lt;-- cetc-auth &lt;-- cetc-coreã€‚æ–°å¢å…¶ä»–ä¸šåŠ¡æ¨¡å—ï¼Œåªå¼•å…¥cetc-coreåŒ…å³å¯</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cetc15-SpringBoot</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cetc-admin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# å¯åŠ¨é¡¹ç›®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Application</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				# å¯åŠ¨ç±»</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cetc-core</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# æ ¸å¿ƒåŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> java</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> base</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">						# åŸºç¡€ç±»æä¾›CRUDï¼Œåœ¨Mybatis-plusçš„åŸºç¡€ä¸Šï¼Œåˆå°è£…äº†ä¸€å±‚ï¼Œæ–¹ä¾¿æ‰©å±•è‡ªå·±çš„å…¬å…±æ–¹æ³•ï¼Œå¹¶åŒæ—¶æ‰©å±•äº†åˆ†é¡µæŸ¥è¯¢pageå’ŒæŸ¥è¯¢queryæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BaseDO</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# æå–äº†å…¬å…±çš„idã€createTimeã€updateTimeå­—æ®µï¼Œæ‰€ä»¥ï¼Œå¦‚æœç»§æ‰¿è¯¥ç±»ï¼Œæ•°æ®åº“å­—æ®µå¿…éœ€åŒ…å«æ­¤3ä¸ªå­—æ®µ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BasePageResult</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# åˆ†é¡µè¿”å›ç±»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BaseQuery</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				# æä¾›äº†åˆ†é¡µçš„è¯·æ±‚å‚æ•°ï¼špageNumï¼ˆé¡µç ï¼‰ã€pageSizeï¼ˆé¡µæ•°ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BaseResult</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">				# éåˆ†é¡µè¿”å›ç±»ï¼Œå°è£…äº†ç»Ÿä¸€è¿”å›æ ¼å¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BaseResultCode</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# è¿”å›codeçš„æšä¸¾</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NCIBaseController</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # æä¾›CRUDã€åˆ é™¤æ–¹æ³•åªæä¾›ä¸€ä¸ªæ‰¹é‡åˆ é™¤æ–¹æ³•ï¼Œå•åˆ orå¤šåˆ ï¼Œç”±å‰ç«¯ä¼ å‚å†³å®š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NCIBaseMapper</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# ç»§æ‰¿äº†Mybatis-plusçš„BaseMapperç±»</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NCIBaseService</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">			# ç»§æ‰¿äº†Mybatis-plusçš„IService</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> NCIBaseServiceImpl</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# ç»§æ‰¿äº†Mybatis-plusçš„ServiceImpl			</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> common</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> constant</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">					# å¸¸é‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enums</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">						# æšä¸¾ã€‚å®šä¹‰äº†BaseEnum</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exception</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GlobalExceptionHandler</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # å…¨å±€å¼‚å¸¸å¤„ç†</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">				|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BusinessException</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">			|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> util</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">						# å¸¸ç”¨å·¥å…·ç±»ï¼Œä¼˜å…ˆä½¿ç”¨hutoolå’Œlang3,å‡å°‘è‡ªå®šä¹‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> component</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">						# ç»„ä»¶æ–¹æ³•ï¼ŒåŒ…æ‹¬redisCache</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# é…ç½®ã€‚åŒ…å«Redisã€Corsã€Swaggerã€WebSocktç­‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# æ’ä»¶ï¼ŒåŒ…å«é‡å¤æäº¤æ³¨è§£ã€easyExcelç­‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cetc-auth</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		# æƒé™åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 						# æƒé™æœ‰å…³é…ç½®ã€‚åŒ…å«Security</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> filter</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# è¿‡æ»¤å™¨ã€‚åŒ…å«Captchaã€Jwt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugin</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# è·Ÿæƒé™ç»‘å®šçš„æ’ä»¶ã€‚åŒ…å«mybatisæƒé™æ³¨è§£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> security</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">						# å®‰å…¨ç›¸å…³å¤„ç†åŒ…ã€‚åŒ…å«æƒé™å¼‚å¸¸å¤„ç†ã€UserDetailsç­‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cetc-system</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	# ç”¨æˆ·ç®¡ç†ç­‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> system</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ç­‰ä¸šåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sql</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">								# SQLåˆå§‹åŒ–è„šæœ¬</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">---</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> README.md</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">							# é¡¹ç›®ç®€ä»‹</span></span></code></pre></div><h3 id="åˆ†å¸ƒå¼-åŠŸèƒ½æ‹†åˆ†éƒ¨ç½²" tabindex="-1">åˆ†å¸ƒå¼|åŠŸèƒ½æ‹†åˆ†éƒ¨ç½² <a class="header-anchor" href="#åˆ†å¸ƒå¼-åŠŸèƒ½æ‹†åˆ†éƒ¨ç½²" aria-label="Permalink to â€œåˆ†å¸ƒå¼|åŠŸèƒ½æ‹†åˆ†éƒ¨ç½²â€">â€‹</a></h3><p>å¦‚æœæœ‰åŠŸèƒ½æ¨¡å—éœ€è¦æ‹†åˆ†éƒ¨ç½²çš„éœ€æ±‚ã€‚ä¾‹å¦‚é‚®ä»¶æ¨¡å—ï¼Œéœ€è¦å•ç‹¬éƒ¨ç½²ï¼Œæ–°å»º <code>cetc-mail</code>æ¨¡å—ï¼Œè¯¥æ¨¡å—åªå¼•å…¥ <code>cetc-auth</code> åŒ…å³å¯ï¼Œæ‰“åŒ…ä¸»é¡¹ç›® <code>cetc-admin</code> æ—¶åªä¾èµ–<code>cetc-mail</code>åŒ…å³å¯ï¼Œè¦æ±‚rediså¿…éœ€è¿æ¥åŒä¸€ä¸ªåœ°å€ï¼Œæ‰å¯ä»¥é€šè¿‡tokenè·å–åˆ°å½“å‰ç”¨æˆ·ã€‚</p><h3 id="é¡¹ç›®ç»“æ„çº¦å®š" tabindex="-1">é¡¹ç›®ç»“æ„çº¦å®š <a class="header-anchor" href="#é¡¹ç›®ç»“æ„çº¦å®š" aria-label="Permalink to â€œé¡¹ç›®ç»“æ„çº¦å®šâ€">â€‹</a></h3><ul><li><p><code>jar</code> åŒ…çš„å¼•å…¥ï¼Œç»Ÿä¸€åœ¨<strong>ä¸»pom</strong>ä¸­å®šä¹‰ <code>version</code> å¹¶å¼•å…¥ï¼Œå…¶ä»–å­pomæ–‡ä»¶ï¼Œç¦æ­¢å¼•å…¥ <code>version</code> ã€‚ä¾¿äºç‰ˆæœ¬ç»Ÿä¸€ç®¡ç†</p></li><li><p><code>mapper.xml</code> æ–‡ä»¶æ”¾åœ¨javaåŒ…é‡Œå¯¹åº”çš„ <code>Mapperç±»</code> åŒçº§ç›®å½•ä¸‹ï¼Œæ–¹ä¾¿åŠŸèƒ½è¿ç§»ï¼ˆä¸€èˆ¬éƒ½æ˜¯æ”¾åœ¨resourcesä¸‹ï¼Œè€ƒè™‘åˆ°åŠŸèƒ½æ‹·è´ï¼Œä¸éœ€è¦å†å»è¿‡æ»¤å¯¹åº”xmlæ–‡ä»¶ï¼‰ã€‚</p><p>é»˜è®¤<code>java</code>ç›®å½•ä¸åŠ è½½xmlæ–‡ä»¶ï¼Œæ•…è€Œï¼Œéœ€è¦åœ¨ä¸»pomæ–‡ä»¶ä¸­ï¼ŒåŠ å…¥å»æ‰è¿‡æ»¤xmlçš„é…ç½®</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    &lt;!--ä¿è¯mapper.xmlè¢«æ‰“åŒ…ï¼Œå¦åˆ™æ— æ³•è¯†åˆ«xml--&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;src/main/java&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">directory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;**/*.xml&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">filtering</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;false&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">filtering</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">resource</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">resources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li><li><p>DOï¼ˆData Objectï¼‰ï¼šé˜¿é‡Œå·´å·´ä¸“æŒ‡æ•°æ®åº“è¡¨ä¸€ä¸€å¯¹åº”çš„ POJO ç±»ã€‚æœ¬é¡¹ç›®é‡‡ç”¨æ­¤è§„åˆ™ï¼Œä¾‹å¦‚ <code>sys_user</code> è¡¨å¯¹åº”å®ä½“å‘½å <code>UserDO</code>ã€‚</p></li><li><p>Queryï¼šæ•°æ®æŸ¥è¯¢å¯¹è±¡ï¼Œå„å±‚æ¥æ”¶ä¸Šå±‚çš„æŸ¥è¯¢è¯·æ±‚ã€‚æ³¨æ„è¶…è¿‡ 2 ä¸ªå‚æ•°çš„æŸ¥è¯¢å°è£…ï¼Œç¦æ­¢ä½¿ç”¨ Map ç±»æ¥ä¼ è¾“ã€‚æœ¬é¡¹ç›®é‡‡ç”¨æ­¤è§„åˆ™ï¼Œä¾‹å¦‚ <code>sys_user</code> è¡¨å¯¹åº”å®ä½“æŸ¥è¯¢å‘½å <code>UserQuery</code>ã€‚</p></li><li><p>é»˜è®¤ç”Ÿæˆæ•°æ®åº“ä¸»é”®ä¸º<strong>é›ªèŠ±ç®—æ³•</strong>ï¼Œè§£å†³ä¸åŒç³»ç»Ÿé—´æ•°æ®äº¤æ¢è‡ªå¢ä¸»é”®å†²çªçš„é—®é¢˜ã€‚</p></li><li><p>é»˜è®¤ç»§æ‰¿<code>BaseDO</code>çš„æ•°æ®åº“è¡¨ï¼Œå¿…éœ€åŒ…å«idã€create_timeã€update_timeå­—æ®µã€‚</p></li><li><p>æŒä¹…å±‚é‡‡ç”¨<code>mybatis-plus</code>æ¡†æ¶ï¼Œå…¨å±€æ›´æ–°ç­–ç•¥è®¾ç½®<code>ALWAYS</code>ã€‚è¿™æ ·èƒ½ä¿è¯æäº¤è¡¨å•ä¸­ç©ºå­—æ®µï¼Œå€¼çš„æ›´æ–°æˆåŠŸï¼Œå¦‚æœé‡‡ç”¨é»˜è®¤ï¼Œéå¿…å¡«å­—æ®µçš„ç©ºå€¼æ— æ³•æ›´æ–°æˆåŠŸï¼Œæ‰€ä»¥å¦‚æœ<strong>æ›´æ–°éƒ¨åˆ†</strong>å­—æ®µï¼Œä¸å¯ç›´æ¥ä½¿ç”¨serviceå±‚ä¸­<code>updateById</code>æ–¹æ³•ï¼Œä¼šå°†å…¶ä»–å­—æ®µç½®ç©ºï¼Œè¦æ±‚<strong>å¼ºåˆ¶æ‰‹å†™</strong>æ›´æ–°xmlè¯­å¥ã€‚</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">mybatis-plus</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  global-config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    db-config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    	# </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">æ›´æ–°ç­–ç•¥</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      update-strategy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">always</span></span></code></pre></div></li></ul><h2 id="ğŸ’–-æ ¸å¿ƒåŠŸèƒ½" tabindex="-1">ğŸ’– æ ¸å¿ƒåŠŸèƒ½ <a class="header-anchor" href="#ğŸ’–-æ ¸å¿ƒåŠŸèƒ½" aria-label="Permalink to â€œğŸ’– æ ¸å¿ƒåŠŸèƒ½â€">â€‹</a></h2><h3 id="å…¨å±€å¼‚å¸¸å¤„ç†" tabindex="-1">å…¨å±€å¼‚å¸¸å¤„ç† <a class="header-anchor" href="#å…¨å±€å¼‚å¸¸å¤„ç†" aria-label="Permalink to â€œå…¨å±€å¼‚å¸¸å¤„ç†â€">â€‹</a></h3><ul><li><p><code>GlobalExceptionHandler</code> å…¨å±€ç³»ç»Ÿå¼‚å¸¸å¤„ç†å™¨</p></li><li><p>è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±» <code>BusinessException</code> ï¼Œç”¨äºå¼‚å¸¸æŠ›å‡º</p></li></ul><h3 id="configé…ç½®" tabindex="-1">configé…ç½® <a class="header-anchor" href="#configé…ç½®" aria-label="Permalink to â€œconfigé…ç½®â€">â€‹</a></h3><ul><li><code>WebMvcConfig</code> è§£å†³åå°Longå€¼ä¼ é€’ç»™å‰ç«¯ç²¾åº¦ä¸¢å¤±é—®é¢˜ï¼ˆJSæœ€å¤§ç²¾åº¦æ•´æ•°æ˜¯Math.pow(2,53)ï¼‰</li><li><code>CorsConfig</code> CORS èµ„æºå…±äº«é…ç½®</li><li><code>RedisConfig</code> ä¿®æ”¹ Redis åºåˆ—åŒ–æ–¹å¼</li></ul><h3 id="åˆ†é¡µå®ç°" tabindex="-1">åˆ†é¡µå®ç° <a class="header-anchor" href="#åˆ†é¡µå®ç°" aria-label="Permalink to â€œåˆ†é¡µå®ç°â€">â€‹</a></h3><blockquote><p>åŸºäºMybatis-plusçš„åˆ†é¡µæ’ä»¶å®ç°ï¼Œ<a href="https://baomidou.com/plugins/pagination/" target="_blank" rel="noreferrer">è¯¦ç»†æ–‡æ¡£å‚è€ƒ</a></p></blockquote><h4 id="å¼•å…¥jar" tabindex="-1">å¼•å…¥jar <a class="header-anchor" href="#å¼•å…¥jar" aria-label="Permalink to â€œå¼•å…¥jarâ€">â€‹</a></h4><p>åœ¨cetc-coreæ¨¡å—çš„pomä¸­å¼•å…¥</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;com.baomidou&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;mybatis-plus-spring-boot3-starter&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h4 id="é…ç½®ç±»mybatisplusconfig" tabindex="-1">é…ç½®ç±»MybatisPlusConfig <a class="header-anchor" href="#é…ç½®ç±»mybatisplusconfig" aria-label="Permalink to â€œé…ç½®ç±»MybatisPlusConfigâ€">â€‹</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cn.com.cetc.core.config;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * mybatis-plus é…ç½®ç±»</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EnableTransactionManagement</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MybatisPlusConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * åˆ†é¡µæ’ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MybatisPlusInterceptor </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mybatisPlusInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MybatisPlusInterceptor interceptor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MybatisPlusInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        interceptor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addInnerInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PaginationInnerInterceptor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(DbType.MYSQL));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interceptor;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="è‡ªåŠ¨å¡«å……å®ç°" tabindex="-1">è‡ªåŠ¨å¡«å……å®ç° <a class="header-anchor" href="#è‡ªåŠ¨å¡«å……å®ç°" aria-label="Permalink to â€œè‡ªåŠ¨å¡«å……å®ç°â€">â€‹</a></h3><p>æœ¬ç³»ç»Ÿé»˜è®¤å¡«å…… <code>create_time</code> å’Œ <code>update_time</code> æ•°æ®åº“å­—æ®µã€‚å¦‚æœ‰éœ€è¦ï¼Œå¯è‡ªè¡Œæ‰©å±•ã€‚</p><h4 id="é…ç½®" tabindex="-1">é…ç½® <a class="header-anchor" href="#é…ç½®" aria-label="Permalink to â€œé…ç½®â€">â€‹</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cn.com.cetc.core.config;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * mybatis-plus å­—æ®µè‡ªåŠ¨å¡«å……</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MybatisPlusMetaObjectHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MetaObjectHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * æ–°å¢å¡«å……åˆ›å»ºæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> metaObject</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> å…ƒæ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> insertFill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MetaObject </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metaObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Date date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strictInsertFill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metaObject, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date, Date.class);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strictUpdateFill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metaObject, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> date, Date.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * æ›´æ–°å¡«å……æ›´æ–°æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> metaObject</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> å…ƒæ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateFill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MetaObject </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">metaObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">strictUpdateFill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(metaObject, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), Date.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="å•è¡¨çš„crudå®ç°" tabindex="-1">å•è¡¨çš„CRUDå®ç° <a class="header-anchor" href="#å•è¡¨çš„crudå®ç°" aria-label="Permalink to â€œå•è¡¨çš„CRUDå®ç°â€">â€‹</a></h3><p>åœ¨ <code>cn.com.cetc.core.base</code> åŒ…ä¸‹ï¼Œåœ¨ <code>mybatis-plus</code> é»˜è®¤æä¾›çš„ <code>CRUD</code> æ¥å£åŸºç¡€ä¸Šï¼Œé‡æ–°å°è£…äº†åŸºç±»ï¼Œä¾¿äºæ‰©å±•ã€‚å¹¶å®šä¹‰äº† <code>NCIBaseController</code> ç±»ï¼Œæä¾›åŸºæœ¬çš„CRUDå®Œæ•´åŠŸèƒ½ã€‚</p><p>ä»¥è¡¨ <code>sys_role</code> ä¸ºä¾‹ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œå³å¯å®ŒæˆCRUDæ¥å£çš„æä¾›</p>`,41),s("blockquote",null,[s("p",null,"æ–°å¢POSTï¼š/sys_role"),s("p",null,"ä¿®æ”¹PUTï¼š/sys_role"),s("p",{ids:""},"åˆ é™¤DeleteMappingï¼š/sys_role/"),s("p",{id:""},"æ ¹æ®idè·å–GETï¼š/sys_role/"),s("p",null,"å•è¡¨åˆ†é¡µPOSTï¼š/sys_role/page"),s("p",null,"å•è¡¨æŸ¥è¯¢POSTï¼š/sys_role/query")],-1),a(`<h4 id="é»˜è®¤" tabindex="-1">é»˜è®¤ <a class="header-anchor" href="#é»˜è®¤" aria-label="Permalink to â€œé»˜è®¤â€">â€‹</a></h4><ul><li><p>model</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TableName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sys_role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleQuery</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BaseQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>mapper</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapper</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleMapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NCIBaseMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>service</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NCIBaseService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>serviceImpl</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleServiceImpl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NCIBaseServiceImpl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>controller</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/sys_role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RestController</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SysRoleController</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NCIBaseController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SysRoleQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h4 id="å¸¦å‚æ•°æŸ¥è¯¢" tabindex="-1">å¸¦å‚æ•°æŸ¥è¯¢ <a class="header-anchor" href="#å¸¦å‚æ•°æŸ¥è¯¢" aria-label="Permalink to â€œå¸¦å‚æ•°æŸ¥è¯¢â€">â€‹</a></h4><ul><li><p>serviceImpl</p><p>åˆ†é¡µæŸ¥è¯¢ï¼ŒæŸ¥è¯¢æ¡ä»¶åªéœ€åœ¨serviceImplä¸­ï¼Œé‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯ã€‚</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">E extends IPage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SysRoleDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> E </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(E page, LambdaQueryWrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SysRoleDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ew, SysRoleQuery qe) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ew.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), SysRoleDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getCode, qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">like</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), SysRoleDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getName, qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">page</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page, ew, qe);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h3 id="è”è¡¨æŸ¥è¯¢" tabindex="-1">è”è¡¨æŸ¥è¯¢ <a class="header-anchor" href="#è”è¡¨æŸ¥è¯¢" aria-label="Permalink to â€œè”è¡¨æŸ¥è¯¢â€">â€‹</a></h3><p>NCIBaseæ¡†æ¶å†…ç½®äº†<code>pageVo</code> å’Œ <code>queryVo</code> æ¥å£ï¼Œå¸®ä½ å†™å¥½äº†controllerã€serviceã€mapperã€‚åªéœ€è¦è‡ªå·±å†™å¯¹åº”çš„xmlè¯­å¥å³å¯ï¼Œé€‚ç”¨äºä¸»è¡¨æ˜¯å½“å‰DOè¡¨çš„sqlè¯­å¥ï¼Œå…¶ä»–è”è¡¨éœ€è‡ªå·±é‡æ–°å®šä¹‰æ¥å£ã€‚</p><blockquote><p>è”è¡¨åˆ†é¡µPOSTï¼š/pageVo</p><p>è”è¡¨æŸ¥è¯¢POSTï¼š/queryVo</p></blockquote><ul><li><p>xml</p><p>åˆ†é¡µpageä¸ç”¨å¤„ç†ã€‚æŸ¥è¯¢æ¡ä»¶å–å€¼ä¸€å®šæ³¨æ„ä»¥<code>qe.xx</code>æ–¹å¼ï¼Œå¦åˆ™æ— æ³•å–åˆ°å€¼ã€‚è¿”å›ç±»å‹å¦‚ä¸‹2ç§ã€‚</p><ul><li><code>resultType</code> ç®€å•æ—¶ä½¿ç”¨ï¼Œ<code>mybatis-plus</code> ä¼šè‡ªåŠ¨è½¬é©¼å³°</li><li><code>resultMap</code> å¤æ‚æˆ–åµŒå¥—æ—¶ä½¿ç”¨</li></ul><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pageVo&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> parameterType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cn.com.cetc.system.role.model.SysRoleQuery&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resultType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cn.com.cetc.system.role.model.SysRoleDO&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    select</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t.id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t.name,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    t.code,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    a.label</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    from sys_role t</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    left join sys_role_user a on t.id = a.role_id</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;qe.code != null and qe.code != &#39;&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            and t.code = #{qe.code}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li></ul><h3 id="controlleræ¥å£ç¼–ç å®šä¹‰æ ¼å¼" tabindex="-1">controlleræ¥å£ç¼–ç å®šä¹‰æ ¼å¼ <a class="header-anchor" href="#controlleræ¥å£ç¼–ç å®šä¹‰æ ¼å¼" aria-label="Permalink to â€œcontrolleræ¥å£ç¼–ç å®šä¹‰æ ¼å¼â€">â€‹</a></h3><h4 id="ä¸åˆ†é¡µbaseresult" tabindex="-1">ä¸åˆ†é¡µBaseResult <a class="header-anchor" href="#ä¸åˆ†é¡µbaseresult" aria-label="Permalink to â€œä¸åˆ†é¡µBaseResultâ€">â€‹</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> removeByIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PathVariable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String ids) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; strings </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Arrays.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">asList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ids.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(StringConsts.COMMA));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ‰¹é‡åˆ é™¤æˆåŠŸ!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBaseService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeByIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(strings));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åˆ†é¡µbasepageresult" tabindex="-1">åˆ†é¡µBasePageResult <a class="header-anchor" href="#åˆ†é¡µbasepageresult" aria-label="Permalink to â€œåˆ†é¡µBasePageResultâ€">â€‹</a></h4><ul><li><p>controller</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BasePageResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserVo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pageDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> UserQuery query) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Page&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; page </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Page&lt;&gt;(query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPageNum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), query.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPageSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Page&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; tiPage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getBaseService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pageDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(page, query);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BasePageResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åˆ†é¡µæˆåŠŸ!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tiPage);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>mapperç±»ã€‚éœ€è¦åŠ <code>@Param(&quot;qe&quot;)</code></p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RoleVO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> pageDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RoleVO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page, @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;qe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) SysRoleQuery query);</span></span></code></pre></div></li><li><p>xmlã€‚å–å€¼é€šè¿‡<code>qe.</code>è°ƒç”¨</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pageDemo&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resultType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cn.com.cetc.role.model.RoleVO&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            select id from sys_role</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;qe.roleCode != null and qe.roleCode != &#39;&#39;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                and role_code = #{qe.roleCode}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li></ul><h3 id="å®‰å…¨-æƒé™springsecurity" tabindex="-1">å®‰å…¨|æƒé™SpringSecurity <a class="header-anchor" href="#å®‰å…¨-æƒé™springsecurity" aria-label="Permalink to â€œå®‰å…¨|æƒé™SpringSecurityâ€">â€‹</a></h3><h4 id="tokenæ£€éªŒ" tabindex="-1">tokenæ£€éªŒ <a class="header-anchor" href="#tokenæ£€éªŒ" aria-label="Permalink to â€œtokenæ£€éªŒâ€">â€‹</a></h4><ul><li>æ€è·¯</li></ul><p><img src="`+t+`" alt="alt text"></p><p>â€‹ ç»“è®ºï¼š1ã€å¯ä»¥å®æ—¶æŸ¥è¯¢åœ¨çº¿ç”¨æˆ·ã€‚2ã€è§£å†³åˆ†å¸ƒå¼é¡¹ç›®ï¼Œtokenè¿‡æœŸè§£æçš„é—®é¢˜ï¼Œå…±äº«ä¸€ä¸ªtokenï¼Œæ–¹ä¾¿å–å½“å‰ç”¨æˆ·</p><ul><li><p>å®ç°</p><p>åœ¨authæ¨¡å—ä¸‹æŸ¥çœ‹å¦‚ä¸‹ç±»</p><ul><li><code>SecurityConfig</code> # æƒé™é…ç½®ç±»</li><li><code>CaptchaValidationFilter</code> # éªŒè¯ç æ ¡éªŒè¿‡æ»¤å™¨</li><li><code>JwtValidationFilter</code> # JWT æ ¡éªŒè¿‡æ»¤å™¨</li></ul><p>åœ¨systemæ¨¡å—ä¸‹æŸ¥çœ‹å¦‚ä¸‹ç±»</p><ul><li><code>AuthController</code> è´¦å·å¯†ç ç™»å½•æ¥å£</li><li><code>SysUserDetailsService </code> å®ç°UserDetailsServiceï¼Œå¹¶ä¸”é‡å†™ <code>loadUserByUsername</code> æ–¹æ³•ã€‚å› ä¸º<code>AuthenticationManager.authenticate()</code>.è®¤è¯æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼Œç”¨äºæŸ¥è¯¢æ•°æ®åº“ç”¨æˆ·ä¿¡æ¯ã€‚</li></ul></li></ul><h4 id="æ¥å£è®¿é—®æƒé™" tabindex="-1">æ¥å£è®¿é—®æƒé™ <a class="header-anchor" href="#æ¥å£è®¿é—®æƒé™" aria-label="Permalink to â€œæ¥å£è®¿é—®æƒé™â€">â€‹</a></h4><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PreAuthorize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@ss.hasPerm(&#39;sys:dept:edit&#39;)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="urlç™½åå•" tabindex="-1">urlç™½åå• <a class="header-anchor" href="#urlç™½åå•" aria-label="Permalink to â€œurlç™½åå•â€">â€‹</a></h4><p>ä¿®æ”¹<code>application.yml</code> æ–‡ä»¶ä¸­ <code>security.ignore-urls</code> çš„å€¼ï¼Œç»§ç»­è¿½åŠ å³å¯ã€‚</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å®‰å…¨é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">security</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  jwt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SecretKey012345678901234567890123456789012345678901234567890123456789</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ttl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7200</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ignore-urls</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/v3/api-docs/**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/doc.html</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/swagger-resources/**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/webjars/**</span></span></code></pre></div><h3 id="è§’è‰²æ•°æ®æƒé™" tabindex="-1">è§’è‰²æ•°æ®æƒé™ <a class="header-anchor" href="#è§’è‰²æ•°æ®æƒé™" aria-label="Permalink to â€œè§’è‰²æ•°æ®æƒé™â€">â€‹</a></h3><p>è§’è‰²å¯èµ‹äºˆçš„æƒé™ç±»å‹åŒ…å«ï¼šæ‰€æœ‰æ•°æ®ã€éƒ¨é—¨åŠå­éƒ¨é—¨æ•°æ®ã€æœ¬éƒ¨é—¨æ•°æ®ã€æœ¬äººæ•°æ®</p><p>åœ¨authæ¨¡å—ä¸‹</p><ul><li><p><code>DataPermission</code> æ³¨è§£</p></li><li><p><code>MyDataPermissionHandler</code> åˆ‡é¢é€»è¾‘</p></li><li><p>ä½¿ç”¨</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DataPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">deptIdColumnName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SysDept</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> selectList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Constants.WRAPPER) Wrapper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SysDept</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> queryWrapper);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   * è·å–ç”¨æˆ·åˆ†é¡µåˆ—è¡¨</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> page</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> queryParams</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> æŸ¥è¯¢å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@return</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">     */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DataPermission</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">deptAlias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;u&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserBO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> listPagedUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Page</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">UserBO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> page, @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;queryParams&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) UserPageQuery queryParams);</span></span></code></pre></div></li></ul><h2 id="æ’ä»¶" tabindex="-1">æ’ä»¶ <a class="header-anchor" href="#æ’ä»¶" aria-label="Permalink to â€œæ’ä»¶â€">â€‹</a></h2><h3 id="æ“ä½œæ—¥å¿—" tabindex="-1">æ“ä½œæ—¥å¿— <a class="header-anchor" href="#æ“ä½œæ—¥å¿—" aria-label="Permalink to â€œæ“ä½œæ—¥å¿—â€">â€‹</a></h3><ul><li>æ³¨è§£+åˆ‡é¢</li></ul><h3 id="éªŒè¯ç " tabindex="-1">éªŒè¯ç  <a class="header-anchor" href="#éªŒè¯ç " aria-label="Permalink to â€œéªŒè¯ç â€">â€‹</a></h3><p>ä¿®æ”¹<code>application.yml</code> æ–‡ä»¶ä¸­ <code>captcha.enabled</code> çš„å€¼</p><ul><li>å¯ç”¨ï¼šcaptcha.enabled=true</li><li>å…³é—­ï¼šcaptcha.enabled=falseï¼ˆé»˜è®¤ï¼‰</li></ul><h3 id="swaggeråœ¨çº¿æ–‡æ¡£" tabindex="-1">swaggeråœ¨çº¿æ–‡æ¡£ <a class="header-anchor" href="#swaggeråœ¨çº¿æ–‡æ¡£" aria-label="Permalink to â€œswaggeråœ¨çº¿æ–‡æ¡£â€">â€‹</a></h3><p>è‡ªåŠ¨ç”Ÿæˆåœ¨çº¿æ–‡æ¡£ï¼Œå¯åŠ¨é¡¹ç›®ä¹‹åï¼Œè®¿é—®<code>http://localhost:8988/swagger-ui/index.html</code>æˆ–è€…<code>http://localhost:8988/doc.html</code> ï¼ˆknife4jå¢å¼ºç‰ˆï¼‰</p><ul><li><p>æ³¨è§£ <code>@Operation</code> ç”¨äºæ–¹æ³•</p></li><li><p><code>@Schema</code> ç”¨äºç±»å’Œå­—æ®µ</p></li><li><p><code>@Parameter</code> ç”¨äºè¯·æ±‚å‚æ•°</p></li><li><p>ä½¿ç”¨</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Operation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">summary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æ–°å¢å­—å…¸ç±»å‹&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> saveDictType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DictTypeForm dictTypeForm) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dictTypeService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveDictType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dictTypeForm);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Schema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;å­—å…¸ç±»å‹&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Data</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DictTypeForm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Schema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å­—å…¸ç±»å‹ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Long id;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Operation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">summary</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;å¯¼å…¥ç”¨æˆ·&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Parameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;éƒ¨é—¨ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) Long deptId, MultipartFile file) throws IOException {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(msg);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h3 id="é˜²é‡å¤æäº¤" tabindex="-1">é˜²é‡å¤æäº¤ <a class="header-anchor" href="#é˜²é‡å¤æäº¤" aria-label="Permalink to â€œé˜²é‡å¤æäº¤â€">â€‹</a></h3><ul><li><p>æ³¨è§£ <code>@PreventDuplicateSubmit</code>ã€‚å¯é€‰å‚æ•° <code>expire</code> é˜²é‡æäº¤é”è¿‡æœŸæ—¶é—´(ç§’)ï¼Œé»˜è®¤5ç§’å†…ä¸å…è®¸é‡å¤æäº¤</p></li><li><p>ä½¿ç”¨</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PreventDuplicateSubmit</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> saveDict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">RequestBody</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DictForm DictForm) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dictService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveDict</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(DictForm);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h3 id="easyexcel" tabindex="-1">easyexcel <a class="header-anchor" href="#easyexcel" aria-label="Permalink to â€œeasyexcelâ€">â€‹</a></h3><ul><li><p>å¯¼å‡ºã€‚</p><p>ç¤ºä¾‹GETï¼š<code>/dev-api/api/v1/users/export?pageNum=1&amp;pageSize=10</code>ï¼Œæ›´å¤šå‚æ•° <code>&amp;</code> æ‹¼æ¥</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/** </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * å®ä½“è½¬æ¢convert</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BzslMapstructConverter bzslMapstructConverter;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GetMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/export&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(UserPageQuery qe, HttpServletResponse response) throws IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String fileName </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ç”¨æˆ·åˆ—è¡¨.xlsx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setContentType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setHeader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Content-Disposition&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;attachment; filename=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> URLEncoder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileName, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// æ„é€ æŸ¥è¯¢æ¡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    LambdaQueryWrapper&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; ew </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LambdaQueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBdnms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ew.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BzslRyxx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getBdnm, qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBdnms</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ew.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">like</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getXm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), BzslRyxx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getXm, qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getXm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eq</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(StringUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isNotBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getZwqknm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), BzslRyxx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getZwqknm, qe.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getZwqknm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getBaseService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ew);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// è¿›è¡Œå¯¼å‡ºå®ä½“é—´çš„è½¬æ¢ï¼Œè§£è€¦ï¼Œå¼ºåˆ¶åšè¿™ä¸€æ­¥ï¼Œä¸å¯ç›´æ¥ç”¨listå¯¼å‡ºã€‚</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxxExpVO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; expList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bzslMapstructConverter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVoList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(list);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    EasyExcel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), UserExportVO.class).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sheet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doWrite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(expList);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>BzslMapstructConverter</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.mapstruct.Mapper;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  å®ä½“ä¹‹é—´çš„è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">componentModel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;spring&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BzslMapstructConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxxExpVO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVoList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>BzslRyxxExpVOã€‚</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.alibaba.excel.annotation.ExcelProperty;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> com.alibaba.excel.annotation.format.DateTimeFormat;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/** äººå‘˜ä¿¡æ¯å¯¼å‡ºã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> zhusenlin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2024-07-06</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Data</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ColumnWidth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ»¡è¶³4å­—æ ‡é¢˜ä¸æ¢è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BzslRyxxExpVO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExcelProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;éƒ¨é˜Ÿåç§°&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String bdmc;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExcelProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å…¥ä¼æ—¶é—´&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DateTimeFormat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yyyy-MM-dd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date rwsj;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ³¨æ„ï¼šæ­¤å¤„å±æ€§formatæœ¬æ„å¯èƒ½å¹¶éæ˜¯dict_type_codeï¼Œçº¦å®šå€Ÿç”¨æ­¤å±æ€§ï¼Œç”¨äºconverterè·å–å¯¹åº”çš„å­—å…¸ç±»å‹å€¼ã€‚genderä¸ºæ€§åˆ«çš„å­—å…¸type_codeã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // formatå±æ€§å·²ç»åºŸå¼ƒï¼Œå‡çº§ç‰ˆæœ¬æˆ–ä½¿ç”¨é«˜ç‰ˆæœ¬æ—¶ï¼Œæ³¨æ„æ­¤å±æ€§çš„æœ‰æ— </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ExcelProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;æ€§åˆ«&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">converter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DictExcelConverter.class, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">format</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DictTypeConstants.GENDER)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String xbnm;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>DictExcelConverter</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * å­—å…¸è½¬æ¢converter</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> zhusenlin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2024-07-06</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DictExcelConverter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Converter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">supportJavaTypeKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String.class;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CellDataTypeEnum </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">supportExcelTypeKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CellDataTypeEnum.STRING;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convertToJavaData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ReadCellData&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cellData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ExcelContentProperty </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">contentProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, GlobalConfiguration </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">globalConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cellData.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getStringValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WriteCellData&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">convertToExcelData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, ExcelContentProperty </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">contentProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, GlobalConfiguration </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">globalConfiguration</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ExcelProperty annotation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> contentProperty.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAnnotation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ExcelProperty.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String typeCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> annotation.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        SysDictService dictService </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SpringApplicationContextUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SysDictService.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String label </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dictService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLabel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(typeCode, value);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> WriteCellData&lt;&gt;(label);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>DictTypeConstants</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * å­—å…¸ç±»å‹å¸¸é‡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> zhusenlin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @date 2024-07-06</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DictTypeConstants</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    /** æ€§åˆ« */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String GENDER </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;gender&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>å¯¼å…¥ã€‚</p><p>å®šä¹‰ç›‘å¬å¹¶ç»§æ‰¿ <code>MyAnalysisEventListener</code> ç±»ï¼Œæ­¤ç±»å®šä¹‰äº†å¤„ç†ç»“æœ <code>msg</code> å±æ€§ï¼Œæ–¹ä¾¿ç»Ÿä¸€å¤„ç†ã€‚è°ƒç”¨<code>ExcelUtils.importExcel</code>æ–¹æ³•ã€‚</p><ul><li><code>UserImportListener</code></li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">PostMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importUsers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Parameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">description</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;éƒ¨é—¨ID&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) Long deptId, MultipartFile file) throws IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    UserImportListener listener </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UserImportListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(deptId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExcelUtils.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">importExcel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), UserImportVO.class, listener);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> BaseResult.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(msg);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h3 id="xxljob" tabindex="-1">xxljob <a class="header-anchor" href="#xxljob" aria-label="Permalink to â€œxxljobâ€">â€‹</a></h3><p>ä¿®æ”¹<code>application.yml</code> æ–‡ä»¶ä¸­ <code>xxl.job.enabled</code> çš„å€¼</p><ul><li>å¯ç”¨ï¼šxxl.job.enabled=true</li><li>å…³é—­ï¼šxxl.job.enabled=falseï¼ˆé»˜è®¤ï¼‰</li></ul><h3 id="minio" tabindex="-1">minio <a class="header-anchor" href="#minio" aria-label="Permalink to â€œminioâ€">â€‹</a></h3><p>ä¿®æ”¹<code>application.yml</code> æ–‡ä»¶ä¸­ <code>oss.type</code> å’Œ <code>oss.minio</code> çš„å€¼</p><ul><li><p>å¯ç”¨ï¼šoss.type=minio</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ–‡ä»¶ä¸Šä¼ é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">oss</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # OSS ç±»å‹ (ç›®å‰æ”¯æŒlocal,minio)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minio</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # MinIO å¯¹è±¡å­˜å‚¨æœåŠ¡</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  minio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # æœåŠ¡Endpoint</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    endpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:9000</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # è®¿é—®å‡­æ®</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    access-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minioadmin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å‡­æ®å¯†é’¥</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secret-key</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">minioadmin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # å­˜å‚¨æ¡¶åç§°</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    bucket-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # (å¯é€‰)è‡ªå®šä¹‰åŸŸåï¼Œå¦‚æœé…ç½®äº†åŸŸåï¼Œç”Ÿæˆçš„æ–‡ä»¶URLæ˜¯åŸŸåæ ¼å¼ï¼Œæœªé…ç½®åˆ™URLåˆ™æ˜¯IPæ ¼å¼ (eg: https://oss.youlai.tech)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    custom-domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div></li><li><p>å…³é—­ï¼šoss.type=localï¼ˆé»˜è®¤å­˜å‚¨åœ¨æœ¬åœ°ï¼‰</p></li></ul><h3 id="å·¥ä½œæµ" tabindex="-1">å·¥ä½œæµ <a class="header-anchor" href="#å·¥ä½œæµ" aria-label="Permalink to â€œå·¥ä½œæµâ€">â€‹</a></h3><p>é£é¾™flowlong</p><h2 id="å¼€å‘è¾…åŠ©å·¥å…·" tabindex="-1">å¼€å‘è¾…åŠ©å·¥å…· <a class="header-anchor" href="#å¼€å‘è¾…åŠ©å·¥å…·" aria-label="Permalink to â€œå¼€å‘è¾…åŠ©å·¥å…·â€">â€‹</a></h2><h3 id="ä»£ç ç”Ÿæˆå™¨mybatisx" tabindex="-1">ä»£ç ç”Ÿæˆå™¨MybatisX <a class="header-anchor" href="#ä»£ç ç”Ÿæˆå™¨mybatisx" aria-label="Permalink to â€œä»£ç ç”Ÿæˆå™¨MybatisXâ€">â€‹</a></h3><ul><li><p>å®‰è£…</p><p>ä¸‹è½½<a href="./.html">MybatisX-1.6.0.zip</a>æ’ä»¶ï¼ˆå¿…éœ€1.6.0+ä»¥ä¸Šï¼‰ï¼Œå› ä¸º1.6.0ä»¥ä¸Šé…ç½®æ¨¡æ¿çš„æ—¶å€™optionså±æ€§ï¼Œæ‰æœ‰Modelå±æ€§ï¼Œå¿…éœ€å»æ‰ï¼Œå¦åˆ™ä¼šå¤šç”Ÿæˆä¸€ä¸ªæ— ç”¨å®ä½“ã€‚</p></li><li><p>å¤åˆ¶cetc15æ¨¡æ¿</p><p>ä¸‹è½½<a href="./.html">cetc15.zip</a>å‹ç¼©åŒ…ï¼Œåœ¨ideaä¸­æ‰¾åˆ°ä¸‹å›¾æ‰€ç¤ºä½ç½®ï¼Œè§£å‹åˆ° <code>templates</code> ç›®å½•ä¸‹ã€‚å¦‚ä¸‹å›¾</p><p><img src="`+k+'" alt="44"></p></li><li><p>ideaçš„Databaseè¿æ¥</p><p><img src="'+p+'" alt=""></p></li><li><p>ç”Ÿæˆä»£ç </p><ul><li>å³é”®é€‰ä¸­çš„è¡¨åï¼Œé€‰åˆ™ <code>MybatisX-Generator</code>ã€‚å¼¹å‡ºå¦‚ä¸‹è¾“å…¥æ¡†ï¼Œè¿›è¡Œå¦‚ä¸‹é…ç½®ã€‚é€‰æ‹© <code>module path</code> ç›´æ¥ç”Ÿæˆåˆ°å¯¹åº”çš„æ¨¡å—ï¼Œä¹Ÿå¯ä»¥è¾“å…¥Eç›˜ç­‰è·¯å¾„ï¼Œ<code>base package</code> è¾“å…¥å®Œæ•´çš„åŒ…åï¼Œå³ä¼šåœ¨è¯¥åŒ…åä¸‹ç”Ÿæˆå¯¹åº”çš„ <code>controllerã€mapperã€modelã€service</code> ç›®å½•ã€‚å…¶ä»–é…ç½®é¡¹å¿…éœ€æŒ‰å¦‚ä¸‹å¡«å†™ã€‚</li></ul><p><img src="'+e+'" alt="222"></p><ul><li>ç‚¹å‡» <code>next</code> æŒ‰é’®ï¼Œå¼¹å‡ºå¦‚ä¸‹çª—å£ï¼Œé…ç½®<strong>ä¸¥æ ¼</strong>æŒ‰ç…§å¦‚ä¸‹é€‰æ‹©å³å¯</li></ul><p><img src="'+r+`" alt="111"></p></li></ul><h2 id="è¾ƒä½³å®è·µ" tabindex="-1">è¾ƒä½³å®è·µ <a class="header-anchor" href="#è¾ƒä½³å®è·µ" aria-label="Permalink to â€œè¾ƒä½³å®è·µâ€">â€‹</a></h2><h4 id="å­—å…¸è½¬æ¢" tabindex="-1">å­—å…¸è½¬æ¢ <a class="header-anchor" href="#å­—å…¸è½¬æ¢" aria-label="Permalink to â€œå­—å…¸è½¬æ¢â€">â€‹</a></h4><p>åç«¯ <code>redis</code> ç¼“å­˜ï¼šåç«¯å­—å…¸ç”¨<code>redis</code>ç¼“å­˜ï¼Œå‘½ä¸­åˆ™ç›´æ¥è¿”å›ï¼Œå¦åˆ™å»æŸ¥è¯¢æ•°æ®åº“ï¼Œå¹¶ä¸”æ›´æ–°åˆ°ç¼“å­˜ä¸­ï¼Œé¿å…å¯¹æ•°æ®åº“é€ æˆå‹åŠ›ï¼Œèƒ½åº”å¯¹é«˜å¹¶å‘ã€‚</p><p>å‰ç«¯ç¼“å­˜å­—å…¸çš„é—®é¢˜</p><ul><li>å­—å…¸å¿…éœ€æ°¸è¿œå’Œåç«¯ä¿æŒä¸€è‡´ï¼Œç»´æŠ¤éš¾åº¦å¤§ï¼Œç¨ä¸æ³¨æ„å‰åç«¯å°±å¯èƒ½å¯¹ä¸ä¸Š</li><li>è™½ç„¶å­—å…¸ä¸å¸¸æ”¹ä½†ä¸ä»£è¡¨æ°¸è¿œä¸ä¼šä¿®æ”¹ï¼Œå¦‚æœä¸€æœ‰æ”¹åŠ¨ï¼Œæ•°æ®å°±å¯¹ä¸ä¸Š</li></ul><h4 id="websocket" tabindex="-1">websocket <a class="header-anchor" href="#websocket" aria-label="Permalink to â€œwebsocketâ€">â€‹</a></h4><p>å¤§å±æ€åŠ¿é¡µï¼Œç†è®ºä¸Šåˆå§‹åŒ–é¡µé¢æ—¶ï¼Œå…ˆè°ƒç”¨æ¥å£ï¼Œå¦‚æœä¸€ç›´åœç•™å½“å‰é¡µé¢ï¼Œä¸ºè¾¾åˆ°æ•°æ®åŠ¨æ€çš„æ•ˆæœã€‚åŒæ—¶websocktã€‚å¦‚æœé‰´æƒï¼Œå»ºç«‹websocketä¹‹åï¼Œç¬¬ä¸€æ¬¡æ¶ˆæ¯æ˜¯å½“å‰ç”¨æˆ·tokenä¼ ç»™åç«¯</p><ul><li>åº”è¯¥èµ°websocketè¿›è¡ŒåŠ¨æ€åˆ·æ–°</li><li>é¡µé¢å®šæ—¶å™¨åˆ·æ–°</li></ul><h3 id="javaç¼–ç " tabindex="-1">Javaç¼–ç  <a class="header-anchor" href="#javaç¼–ç " aria-label="Permalink to â€œJavaç¼–ç â€">â€‹</a></h3><ul><li><p>é™¤äº† <code>CRUD</code> åŠå…¶ä»–<strong>ç®€å•å•è¡¨</strong>æ“ä½œï¼Œå…¶ä½™å‡åœ¨ <code>xml</code> æ–‡ä»¶ä¸­æ‰‹å†™ <code>sql</code>ï¼Œä¸å…è®¸åœ¨ <code>Mapper</code> ä¸­ä½¿ç”¨ <code>@select</code> æ³¨è§£å’Œ <code>mybatis-plus</code> çš„ç»„åˆæŸ¥è¯¢ã€‚åŸå› ï¼Œä¸åˆ©äºç†è§£å’Œæ„é€ sqlï¼Œæ— æ³•ç›´æ¥å¤åˆ¶å®Œæ•´è¯­å¥ï¼Œè¿›è¡Œåˆ†æå’ŒåæœŸsqlä¼˜åŒ–ã€‚</p></li><li><p>xmlæ–‡ä»¶ä¸­sqlåŒ…å«å¤§äºå·â€&gt;â€œï¼Œå°äºå·â€&lt;â€œç­‰å­—ç¬¦æ—¶ï¼Œä¼šå½±å“xmlçš„è§£æï¼Œä¸æ¨èä½¿ç”¨è½¬ä¹‰å­—ç¬¦<code>&amp;lt</code>ç­‰ï¼Œå¼ºåˆ¶ä½¿ç”¨<code>&lt;![CDATA[]]&gt;</code>ï¼ŒåŸå› ï¼š1ã€ä¾¿äºç†è§£ï¼Œä¸€ç›®äº†ç„¶ã€‚2ã€æ–¹ä¾¿ã€‚ä¾¿äºç›´æ¥å°†sqlæ‹·è´åˆ°æ‰§è¡Œå™¨ä¸­ï¼Œæ¥å›å¤åˆ¶ï¼Œæ— éœ€å†æ›¿æ¢å¯¹åº”çš„å­—ç¬¦ã€‚ç¤ºä¾‹</p><div class="language-xml"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;getZzjdId&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resultType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;java.lang.Long&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &lt;![CDATA[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        select id from t_yxdt_xlxx_zzjd where #{sjfssj} &gt; kssj and #{sjfssj} &lt; jssj and xl_id = #{xlxxId}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ]]&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div></li><li><p><code>serviceImpl</code> ä¸­å¦‚æœéœ€è¦å¯¹ <code>Mapper</code> æ¥å£çš„è¿”å›æ•°æ®è¿›è¡Œå¤„ç†ï¼Œåˆ™å¯¹åº” <code>Mapper</code> æ¥å£è¿”å›ç±»å‹ä¸èƒ½ç”¨ <code>Map</code> æ¥æ”¶ï¼Œ<strong>å¿…éœ€</strong>å†™<strong>Javaå®ä½“ç±»</strong>æ¥æ”¶ï¼Œé¿å…ç¡¬ç¼–ç ï¼Œå› sqlè¯­å¥å˜æ›´ï¼Œå¯¼è‡´æ— æ³•å–å€¼çš„bugã€‚å¦‚æœç›´æ¥è¿”å›åˆ°å‰ç«¯ï¼Œå¯é…Œæƒ…ä½¿ç”¨ <code>Map</code>ï¼ˆ<strong>å¼ºçƒˆå»ºè®®ä¸ä½¿ç”¨ï¼Œè¾¾æ¢¦æ•°æ®åº“ï¼Œå¼€å‘å’Œçº¿ä¸Šå°½ç®¡ç‰ˆæœ¬ä¸€è‡´ï¼Œä½†çº¿ä¸Šç‰ˆæœ¬ä¸ºå®¢æˆ·ç»Ÿä¸€è®¾ç½®ï¼Œä½¿ç”¨Mapï¼Œå¯èƒ½ä¼šé€ æˆå¤§å°å†™ä¸ä¸€è‡´ï¼Œå¯¼è‡´èµ‹å€¼å¤±è´¥ï¼Œäº§ç”Ÿbug</strong>ï¼‰ã€‚</p></li></ul><h4 id="å±æ€§æ‹·è´" tabindex="-1">å±æ€§æ‹·è´ <a class="header-anchor" href="#å±æ€§æ‹·è´" aria-label="Permalink to â€œå±æ€§æ‹·è´â€">â€‹</a></h4><p>è°¨æ…ä½¿ç”¨<code>BeanUtils.copyProperties</code>ã€‚å­—æ®µå°‘ç›´æ¥æ‰‹å†™get/setã€‚å­—æ®µå¤šä½¿ç”¨<code>mapstruct</code>ã€‚ç†ç”±ï¼šè™½ç„¶è²Œä¼¼ç¹çï¼Œç¼–è¯‘æ—¶æ ¡éªŒï¼Œèƒ½é¿å…æ‹·è´å±æ€§çš„æ—¶å€™ï¼Œå› æ”¹åŠ¨äº†å­—æ®µç±»å‹ï¼Œè€Œå¯¼è‡´èµ‹å€¼å¤±è´¥çš„bugã€‚</p><h4 id="ä»£ç æ®µ" tabindex="-1">ä»£ç æ®µ <a class="header-anchor" href="#ä»£ç æ®µ" aria-label="Permalink to â€œä»£ç æ®µâ€">â€‹</a></h4><h5 id="æ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦" tabindex="-1">æ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦ <a class="header-anchor" href="#æ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦" aria-label="Permalink to â€œæ–‡ä»¶è·¯å¾„åˆ†éš”ç¬¦â€">â€‹</a></h5><p>å¯¹è·å–çš„æ–‡ä»¶è·¯å¾„è¿›è¡Œ <code>split</code> åˆ†éš”ï¼Œä¸ºäº†å…¼å®¹ <code>linux</code> å’Œ <code>windows</code> åº”è¯¥åˆ©ç”¨<code>æ­£åˆ™è¡¨è¾¾å¼</code>ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨/æˆ–\\ \\ï¼Œå¦åˆ™æ— æ³•è§£ææ­£ç¡®</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyTest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String separator </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        File file </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> File</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test1.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String absolutePath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAbsolutePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Bad example</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // String[] split = absolutePath.split(&quot;\\\\\\\\&quot;);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Positive exampleï¼š</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] split </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> absolutePath.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(separator); </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h5 id="åŒæ—¶æ›´æ–°ä¸»å­è¡¨" tabindex="-1">åŒæ—¶æ›´æ–°ä¸»å­è¡¨ <a class="header-anchor" href="#åŒæ—¶æ›´æ–°ä¸»å­è¡¨" aria-label="Permalink to â€œåŒæ—¶æ›´æ–°ä¸»å­è¡¨â€">â€‹</a></h5><p>åœ¨å·²ç»å­˜åœ¨çš„å­è¡¨å¯èƒ½è¢«å…¶ä»–è¡¨å¼•ç”¨çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼Œå¦‚æœå­è¡¨æœªè¢«å¼•ç”¨å¯ä»¥æ ¹æ®å­è¡¨å¤–é”®ï¼Œå…ˆåˆ é™¤ï¼Œåæ‰¹é‡æ–°å¢</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">* æ›´æ–°ä¸»å­è¡¨ï¼Œå­è¡¨åŒ…å«ä¿®æ”¹ã€æ–°å¢ã€åˆ é™¤çš„å­é¡¹</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">* </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@param</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ylBzl</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">* </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@return</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception.class)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Long </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(YlBzlDO ylBzl) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ›´æ–°ä¸»è¡¨</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    getBaseMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ylBzl);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤„ç†å­è¡¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">YlBzlBzdDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; bzdList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ylBzl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBzdList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¿‡æ»¤æ‰idä¸ºnullçš„æ•°æ®idé›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; saveIds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bzdList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    LambdaQueryWrapper&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">YlBzlBzdDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; ew </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LambdaQueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ew.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(YlBzlBzdDO</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getId);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Function&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; function </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Long.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; dbIds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bzdService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listObjs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ew, function);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1ã€æ–°å¢ï¼›å·®é›†ï¼Œæ±‚å±äºAä¸å±äºBçš„å…ƒç´ é›†åˆï¼Œåˆ™é›†åˆA-é›†åˆB</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">YlBzlBzdDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; insertList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bzdList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">dbIds.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2ã€æ›´æ–°ï¼›äº¤é›†ï¼Œæ±‚å±äºAå’Œå±äºBçš„å…ƒç´ é›†åˆï¼Œåˆ™Aäº¤B</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">YlBzlBzdDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; updateList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bzdList.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dbIds.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 3ã€åˆ é™¤ï¼›å·®é›†ï¼Œæ±‚å±äºBä¸å±äºAçš„å…ƒç´ é›†åˆï¼Œåˆ™é›†åˆB-é›†åˆA</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; deleteIds </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dbIds.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> !</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">saveIds.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">contains</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bzdService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">saveBatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(insertList);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bzdService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">updateBatchById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(updateList);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bzdService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeBatchByIds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(deleteIds);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ylBzl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="å¸¸ç”¨ç¼–ç " tabindex="-1">å¸¸ç”¨ç¼–ç  <a class="header-anchor" href="#å¸¸ç”¨ç¼–ç " aria-label="Permalink to â€œå¸¸ç”¨ç¼–ç â€">â€‹</a></h4><h5 id="å¸¸ç”¨å¸¸é‡ç±»" tabindex="-1">å¸¸ç”¨å¸¸é‡ç±» <a class="header-anchor" href="#å¸¸ç”¨å¸¸é‡ç±»" aria-label="Permalink to â€œå¸¸ç”¨å¸¸é‡ç±»â€">â€‹</a></h5><ul><li><code>StrUtil</code> å­—ç¬¦å’Œå­—ç¬¦ä¸²ï¼Œé€—å·ã€@ç­‰ã€‚import cn.hutool.core.util.StrUtil;</li></ul><h3 id="springboot" tabindex="-1">SpringBoot <a class="header-anchor" href="#springboot" aria-label="Permalink to â€œSpringBootâ€">â€‹</a></h3><ul><li>å–ymlæ–‡ä»¶ä¸­çš„å€¼ï¼Œå»ºè®®å®šä¹‰xxPropertiesç±»ï¼Œä½¿ç”¨<code>@ConfigurationProperties(prefix = &quot;spring.data.redis&quot;)</code>æ³¨è§£ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨@Value(&quot;\${}&quot;)ã€‚åŸå› ï¼šå¦‚æœè¢«å¤šå¤„å¼•ç”¨ï¼ŒåæœŸä¿®æ”¹ï¼Œéœ€è¦å…¨å±€æ›¿æ¢ï¼Œç”¨ç±»çš„è¯ï¼Œå…¨å±€ç»´æŠ¤ä¸€ä»½ï¼Œæ›´åˆ©äºç»´æŠ¤ã€‚</li></ul><h3 id="urlå‘½åè§„åˆ™" tabindex="-1">URLå‘½åè§„åˆ™ <a class="header-anchor" href="#urlå‘½åè§„åˆ™" aria-label="Permalink to â€œURLå‘½åè§„åˆ™â€">â€‹</a></h3><ul><li>åº”ä½¿ç”¨è¿å­—ç¬¦ï¼ˆ-ï¼‰æ¥æé«˜URLçš„å¯è¯»æ€§ <ul><li>ç›®å½•æˆ–æ–‡ä»¶åå¦‚æœæœ‰2ä¸ªå•è¯ç»„æˆæ—¶ï¼Œä¸€èˆ¬å»ºè®®ä¸­é—´ä½¿ç”¨ä¸­åˆ’çº¿ï¼ˆ-ï¼‰éš”å¼€ï¼Œä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿æˆ–è€…å…¶ä»–å­—ç¬¦ï¼Œåœ¨æœç´¢å¼•æ“ä¸­ï¼Œå®ƒæ˜¯æŠŠä¸­åˆ’çº¿å½“åšä¸€ä¸ªç©ºæ ¼æ¥å¤„ç†ï¼Œè€Œä¸‹åˆ’çº¿æ˜¯è¢«å¿½ç•¥çš„ï¼Œä¾‹å¦‚seo-meihaoä¼šè¢«è¯»æˆseoä¸meihaoï¼Œè¿™æ˜¯æ¯”è¾ƒå‹å¥½çš„å†™æ³•ã€‚</li></ul></li><li>URLè·¯å¾„ä¸­å…¨éƒ½ä½¿ç”¨å°å†™å­—æ¯ã€‚åŸå› ï¼š <ul><li>å¤§å°å†™æ··åˆå®¹æ˜“å‡ºç°æ‹¼å†™é”™è¯¯</li><li>robotsåŒºåˆ†å¤§å°å†™ï¼Œå¯èƒ½ä¼šé€ æˆä¸æ”¶å½•ã€‚</li></ul></li></ul><h3 id="æ•°æ®åº“" tabindex="-1">æ•°æ®åº“ <a class="header-anchor" href="#æ•°æ®åº“" aria-label="Permalink to â€œæ•°æ®åº“â€">â€‹</a></h3><h4 id="å­—æ®µå‘½å" tabindex="-1">å­—æ®µå‘½å <a class="header-anchor" href="#å­—æ®µå‘½å" aria-label="Permalink to â€œå­—æ®µå‘½åâ€">â€‹</a></h4><ul><li><p>æ–‡ä»¶ä¸Šä¼ è¿”å›å“ªäº›ä¿¡æ¯æˆ–æ•°æ®åº“å­˜å‚¨å“ªäº›å­—æ®µ</p><ul><li><p>file_id | file_idsï¼ˆå¤šæ–‡ä»¶ï¼Œè‹±æ–‡é€—å·åˆ†éš”ï¼‰</p></li><li><p>file_name | file_namesï¼ˆå¤šæ–‡ä»¶ï¼Œè‹±æ–‡é€—å·åˆ†éš”ï¼‰</p></li></ul></li><li><p>æ•°æ®åº“å­—æ®µå‘½åï¼Œå°½é‡3ä¸ªå­—ç¬¦ä»¥ä¸Šï¼Œéƒ¨åˆ†2ä¸ªå­—ç¬¦çš„å­—æ®µï¼Œæœ‰å¯èƒ½æ˜¯ <code>MybatisPlus</code> æ¡†æ¶çš„å…³é”®å­—ï¼Œè§£ææœ‰é—®é¢˜ï¼Œå¦‚æœé‡åˆ°ï¼Œåˆ™éœ€è¦è½¬ä¹‰ä»¥ä¸‹</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TableField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\`cs\`&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String cs;</span></span></code></pre></div></li></ul><h4 id="æ•°æ®åº“çš„è¡¨åè¦ä¸è¦åŠ " tabindex="-1">æ•°æ®åº“çš„è¡¨åè¦ä¸è¦åŠ ï¼Ÿ <a class="header-anchor" href="#æ•°æ®åº“çš„è¡¨åè¦ä¸è¦åŠ " aria-label="Permalink to â€œæ•°æ®åº“çš„è¡¨åè¦ä¸è¦åŠ ï¼Ÿâ€">â€‹</a></h4><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sys_dept</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	#ä¸æ¨è</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">t_sys_dept</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> 	# æ¨è</span></span></code></pre></div><h2 id="æŠ€æœ¯ç‚¹å‰–æ" tabindex="-1">æŠ€æœ¯ç‚¹å‰–æ <a class="header-anchor" href="#æŠ€æœ¯ç‚¹å‰–æ" aria-label="Permalink to â€œæŠ€æœ¯ç‚¹å‰–æâ€">â€‹</a></h2><h3 id="jackson" tabindex="-1">Jackson <a class="header-anchor" href="#jackson" aria-label="Permalink to â€œJacksonâ€">â€‹</a></h3><blockquote><p><a href="https://zhuanlan.zhihu.com/p/646744855" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/646744855</a></p></blockquote><h3 id="lombokç”¨æ³•" tabindex="-1">lombokç”¨æ³• <a class="header-anchor" href="#lombokç”¨æ³•" aria-label="Permalink to â€œlombokç”¨æ³•â€">â€‹</a></h3><p>åªå…è®¸ä½¿ç”¨ä¸‹åˆ—æ³¨è§£ï¼Œå¤ªå¤šçš„å¤æ‚æ³¨è§£ï¼Œä¸åˆ©äºç†è§£å’Œæ’æŸ¥é—®é¢˜</p><ul><li>@Data</li><li>@Builder</li><li>@Getter</li><li>@Setter</li><li>@AllArgsConstructor</li><li>@NoArgsConstructor</li><li>@RequiredArgsConstructor</li></ul><h3 id="å¤åˆ¶å¯¹è±¡" tabindex="-1">å¤åˆ¶å¯¹è±¡ <a class="header-anchor" href="#å¤åˆ¶å¯¹è±¡" aria-label="Permalink to â€œå¤åˆ¶å¯¹è±¡â€">â€‹</a></h3><blockquote><p><a href="https://blog.csdn.net/JokerLJG/article/details/122876890?spm=1001.2014.3001.5506" target="_blank" rel="noreferrer">https://blog.csdn.net/JokerLJG/article/details/122876890?spm=1001.2014.3001.5506</a></p></blockquote><ul><li>ç›´æ¥èµ‹å€¼</li><li>æµ…æ‹·è´ Spring BeanUtils(ä¸è¦ä½¿ç”¨apacheçš„)ã€ MapStruct ï¼Œä¸æ¨èä½¿ç”¨jsonåºåˆ—åŒ–çš„æ–¹å¼</li><li>æ·±æ‹·è´ get|setã€clone</li></ul><h3 id="mapstructç”¨æ³•" tabindex="-1">mapstructç”¨æ³• <a class="header-anchor" href="#mapstructç”¨æ³•" aria-label="Permalink to â€œmapstructç”¨æ³•â€">â€‹</a></h3><h4 id="ç®€å•ç”¨æ³•" tabindex="-1">ç®€å•ç”¨æ³• <a class="header-anchor" href="#ç®€å•ç”¨æ³•" aria-label="Permalink to â€œç®€å•ç”¨æ³•â€">â€‹</a></h4><p>æ³¨æ„ï¼š</p><ul><li>ä¿®æ”¹äº†å±æ€§ä¹‹åï¼Œå¦‚æœæ²¡æœ‰è‡ªåŠ¨ç¼–è¯‘æ›´æ–°ï¼ˆç†è®ºä¸Šä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼‰ï¼Œéœ€è¦cleanä¸€ä¸‹targetï¼Œå¦åˆ™æœ‰å¯èƒ½æ— æ³•æ‰¾åˆ°å¯¹åº”çš„èµ‹å€¼æ–¹æ³•ã€‚</li><li>listäº’è½¬åŠ  <code>@Mappings</code> æ— æ•ˆï¼Œéœ€è¦é‡æ–°å®šä¹‰å¯¹è±¡ä¸å¯¹è±¡çš„äº’è½¬ï¼Œlistä¼šè‡ªåŠ¨å»å–å•ä¸ªå¯¹è±¡äº’è½¬çš„æ–¹æ³•ã€‚</li></ul><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.mapstruct.Mapper;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *  å®ä½“è½¬æ¢</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">componentModel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;spring&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BzslMapstructConverter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ³¨æ„ï¼šlistè½¬æ¢åŠ mappingsæ— æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mappings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxxExpVO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVoList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">BzslRyxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mappings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    BzslRyxxExpVO </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BzslRyxx </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">bzslRyxx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="å¿½ç•¥éƒ¨åˆ†å±æ€§æ‹·è´" tabindex="-1">å¿½ç•¥éƒ¨åˆ†å±æ€§æ‹·è´ <a class="header-anchor" href="#å¿½ç•¥éƒ¨åˆ†å±æ€§æ‹·è´" aria-label="Permalink to â€œå¿½ç•¥éƒ¨åˆ†å±æ€§æ‹·è´â€">â€‹</a></h4><ul><li><p>å†™æ³•ä¸€ï¼š</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mappings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BzslRyxxExpVO </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BzslRyxx bzslRyxx);</span></span></code></pre></div></li><li><p>å†™æ³•äºŒï¼šæŠ½å–å…¬å…±å¿½ç•¥å±æ€§</p><ul><li><p>1ã€å®šä¹‰æ³¨è§£</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * @Date</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@author</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> zhusenlin</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * mapstructå¿½ç•¥å…¬å…±çš„å±æ€§æ³¨è§£</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> * idã€createTimeã€updateTime</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> *</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Retention</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(RetentionPolicy.CLASS)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mappings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;createTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">target</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;updateTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ignore</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> MappingIgnoreBaseDO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><p>2ã€å¼•ç”¨æ³¨è§£</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">MappingIgnoreBaseDO</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">BzslRyxxExpVO </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toBzslRyxxExpVo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BzslRyxx bzslRyxx);</span></span></code></pre></div></li></ul></li></ul><h3 id="kafka" tabindex="-1">Kafka <a class="header-anchor" href="#kafka" aria-label="Permalink to â€œKafkaâ€">â€‹</a></h3><ul><li>åˆ†åŒºæ•°å¯ä»¥å¤§äºèŠ‚ç‚¹æ•°ï¼Œå‰¯æœ¬æ•°ä¸èƒ½å¤§äºèŠ‚ç‚¹æ•°ï¼Œå› ä¸ºå‰¯æœ¬éœ€è¦åˆ†å¸ƒåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œæ‰èƒ½è¾¾åˆ°å¤‡ä»½çš„ç›®çš„ã€‚</li></ul><h4 id="æ¶ˆæ¯å¯é æ€§" tabindex="-1">æ¶ˆæ¯å¯é æ€§ <a class="header-anchor" href="#æ¶ˆæ¯å¯é æ€§" aria-label="Permalink to â€œæ¶ˆæ¯å¯é æ€§â€">â€‹</a></h4><ul><li><p>ack = 0ï¼Œå¯é æ€§å·®ï¼Œååé‡æœ€é«˜ã€‚ç”Ÿäº§è€…å°†æ•°æ®å‘é€åˆ°ç½‘ç»œæ•°æ®æµä¸­çš„æ—¶å€™ï¼ŒKafkaå°±å¯¹å½“å‰çš„æ•°æ®è¿›è¡Œäº†å“åº”ï¼ˆç¡®è®¤åº”ç­”ï¼‰ï¼›å‡ºç°ç½‘ç»œå¼‚å¸¸ï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p></li><li><p>ack = 1ï¼Œå¯é æ€§é«˜ï¼Œååé‡é«˜ã€‚åªå®Œæˆäº†Leaderå‰¯æœ¬çš„æ—¥å¿—å†™å…¥ï¼Œå½“æ•°æ®åˆ°è¾¾brokerèŠ‚ç‚¹Leaderå‰¯æœ¬æ—¶ï¼Œè¿›è¡Œå“åº”ï¼›followerå‰¯æœ¬æœªå†™å…¥ï¼ŒbrokerèŠ‚ç‚¹å‡ºç°æ•…éšœï¼Œä¹Ÿä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p></li><li><p>ack = -1ï¼ˆé»˜è®¤ï¼‰ï¼Œå¯é æ€§æœ€é«˜ï¼Œååé‡å·®ã€‚ä¼šå®Œæˆleaderå‰¯æœ¬å’Œfollowerå‰¯æœ¬çš„å†™å…¥ä¹‹åï¼Œå†è¿›è¡Œå“åº”ï¼›éœ€è¦æ³¨æ„ï¼Œå¦‚æœæœ‰5ä¸ªå‰¯æœ¬ï¼Œæ­¤æ—¶åªæœ‰3ä¸ªå‰¯æœ¬å¤„äºå’ŒLeaderå‰¯æœ¬ä¹‹é—´å¤„äºæ•°æ®åŒæ­¥çŠ¶æ€ï¼Œé‚£ä¹ˆ</p><p>æ­¤æ—¶åˆ†åŒºå°±å­˜åœ¨ä¸€ä¸ªå‰¯æœ¬åŒæ­¥åˆ—è¡¨ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºIn Syn Replicaï¼Œç®€ç§°ISRã€‚æ­¤æ—¶ï¼ŒKafkaåªè¦ä¿è¯ISRä¸­æ‰€æœ‰çš„4ä¸ªå‰¯æœ¬æ¥æ”¶åˆ°äº†æ•°æ®ï¼Œå°±å¯ä»¥å¯¹æ•°æ®è¿›è¡Œå“åº”äº†ï¼Œæ— éœ€ç­‰åˆ°å…¨éƒ¨å‰¯æœ¬æ”¶åˆ°æ•°æ®ã€‚ISRå‰¯æœ¬</p><p>æ•°é‡çº¦æŸå¯é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®ï¼Œå‚æ•°åä¸º <code>min.insync.replicas</code> é»˜è®¤å€¼ä¸º1ï¼ˆä¸æ¨èï¼‰ï¼Œæœ€å°æ¨èå€¼ä¸º<strong>2</strong></p></li></ul><h4 id="å¹‚ç­‰æ€§" tabindex="-1">å¹‚ç­‰æ€§ <a class="header-anchor" href="#å¹‚ç­‰æ€§" aria-label="Permalink to â€œå¹‚ç­‰æ€§â€">â€‹</a></h4><ul><li>enable.idempotenceï¼Œé»˜è®¤falseã€‚åªèƒ½åšåˆ°å•åˆ†åŒºä¸Šå¹‚ç­‰ï¼Œå¤šåˆ†åŒºæ— æ³•ä¿è¯ã€‚</li></ul><h4 id="å­˜å‚¨å‚æ•°" tabindex="-1">å­˜å‚¨å‚æ•° <a class="header-anchor" href="#å­˜å‚¨å‚æ•°" aria-label="Permalink to â€œå­˜å‚¨å‚æ•°â€">â€‹</a></h4><ul><li>log.segment.bytesã€‚å­˜å‚¨æ®µå¤§å°ï¼Œé»˜è®¤1G</li><li>log.roll.hoursã€‚æ—¥å¿—æ–‡ä»¶æ»šåŠ¨é—´éš”ï¼Œé»˜è®¤7å¤©</li></ul><h4 id="æ•°æ®ä¸€è‡´æ€§" tabindex="-1">æ•°æ®ä¸€è‡´æ€§ <a class="header-anchor" href="#æ•°æ®ä¸€è‡´æ€§" aria-label="Permalink to â€œæ•°æ®ä¸€è‡´æ€§â€">â€‹</a></h4><p>è®¾è®¡ç›®æ ‡æ˜¯é«˜ååã€é«˜å¹¶å‘ã€é«˜æ€§èƒ½ï¼Œå¿…éœ€æ˜¯åˆ†å¸ƒå¼çš„ã€‚å‰¯æœ¬åŒæ­¥æ•°æ®æœ‰å»¶è¿Ÿï¼Œå¦‚æœæŒ‚æ‰ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹çš„æ•°æ®å¯èƒ½ä¸ä¸€è‡´ï¼Œä¸ºäº†è§£å†³é—®é¢˜ï¼Œå¼•å…¥äº† <code>é«˜æ°´ä½</code> ï¼ˆHWï¼šHight Watermarkï¼‰æœºåˆ¶ï¼Œä¸åŒçš„å‰¯æœ¬ä¹‹é—´ç»´æŠ¤ä¸€ä¸ªæ°´ä½çº¿çš„æœºåˆ¶ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªåç§»é‡çš„æ¦‚å¿µï¼‰ï¼Œå³ <code>æœ¨æ¡¶ç†è®º</code>ã€‚</p><h4 id="æ¶ˆè´¹è€…" tabindex="-1">æ¶ˆè´¹è€… <a class="header-anchor" href="#æ¶ˆè´¹è€…" aria-label="Permalink to â€œæ¶ˆè´¹è€…â€">â€‹</a></h4><ul><li>group_idã€‚å¿…éœ€ï¼Œæ¶ˆè´¹ç»„IDï¼Œç”¨äºæ ‡è¯†å®Œæ•´çš„æ¶ˆè´¹åœºæ™¯ï¼Œä¸€ä¸ªç»„ä¸­å¯ä»¥åŒ…å«å¤šä¸ªä¸åŒçš„æ¶ˆè´¹åœºæ™¯æˆ–å¯¹è±¡ã€‚</li></ul><h3 id="æœ¬åœ°ç¼“å­˜" tabindex="-1">æœ¬åœ°ç¼“å­˜ <a class="header-anchor" href="#æœ¬åœ°ç¼“å­˜" aria-label="Permalink to â€œæœ¬åœ°ç¼“å­˜â€">â€‹</a></h3><h4 id="cache" tabindex="-1">Cache <a class="header-anchor" href="#cache" aria-label="Permalink to â€œCacheâ€">â€‹</a></h4><p>å¼€å¯ç¼“å­˜</p><ul><li>@EnableCaching</li></ul><p>æ ‡æ³¨ç¼“å­˜</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Cacheable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cacheNames</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;emps&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;#id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// #id å°±è¡¨ç¤ºå–å‡ºå‚æ•°idçš„å€¼ä½œä¸ºkey</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pubilc Employee </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Integer id) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ....</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>@Cacheable</p><ul><li>cacheNames/valueï¼šç”¨æ¥æŒ‡å®šç¼“å­˜ç»„çš„åå­—</li><li>keyï¼šç¼“å­˜æ•°æ®ä½¿ç”¨çš„keyï¼Œå¯ä»¥ç”¨å®ƒæ¥æŒ‡å®šï¼Œé»˜è®¤æ˜¯ä½¿ç”¨æ–¹æ³•å‚æ•°çš„å€¼ã€‚ï¼ˆè¿™ä¸ªkeyä½ å¯ä»¥ä½¿ç”¨spELè¡¨è¾¾å¼æ¥ç¼–å†™ï¼‰</li></ul><h2 id="æ‰“åŒ…æ–¹æ¡ˆ" tabindex="-1">æ‰“åŒ…æ–¹æ¡ˆ <a class="header-anchor" href="#æ‰“åŒ…æ–¹æ¡ˆ" aria-label="Permalink to â€œæ‰“åŒ…æ–¹æ¡ˆâ€">â€‹</a></h2><h3 id="jar" tabindex="-1">jar <a class="header-anchor" href="#jar" aria-label="Permalink to â€œjarâ€">â€‹</a></h3><h3 id="war" tabindex="-1">war <a class="header-anchor" href="#war" aria-label="Permalink to â€œwarâ€">â€‹</a></h3><h3 id="å‰åç«¯ä¸åˆ†ç¦»" tabindex="-1">å‰åç«¯ä¸åˆ†ç¦» <a class="header-anchor" href="#å‰åç«¯ä¸åˆ†ç¦»" aria-label="Permalink to â€œå‰åç«¯ä¸åˆ†ç¦»â€">â€‹</a></h3><h2 id="éƒ¨ç½²æ–¹æ¡ˆ" tabindex="-1">éƒ¨ç½²æ–¹æ¡ˆ <a class="header-anchor" href="#éƒ¨ç½²æ–¹æ¡ˆ" aria-label="Permalink to â€œéƒ¨ç½²æ–¹æ¡ˆâ€">â€‹</a></h2><h3 id="nginx" tabindex="-1">nginx <a class="header-anchor" href="#nginx" aria-label="Permalink to â€œnginxâ€">â€‹</a></h3><h2 id="è¿ç»´éƒ¨ç½²" tabindex="-1">è¿ç»´éƒ¨ç½² <a class="header-anchor" href="#è¿ç»´éƒ¨ç½²" aria-label="Permalink to â€œè¿ç»´éƒ¨ç½²â€">â€‹</a></h2><h4 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to â€œDockerâ€">â€‹</a></h4><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to â€œFAQâ€">â€‹</a></h2><h4 id="_1ã€ideaæ ¡éªŒå‡ºç°å¦‚ä¸‹å¼‚å¸¸" tabindex="-1"><strong>1ã€ideaæ ¡éªŒå‡ºç°å¦‚ä¸‹å¼‚å¸¸</strong> <a class="header-anchor" href="#_1ã€ideaæ ¡éªŒå‡ºç°å¦‚ä¸‹å¼‚å¸¸" aria-label="Permalink to â€œ1ã€ideaæ ¡éªŒå‡ºç°å¦‚ä¸‹å¼‚å¸¸â€">â€‹</a></h4><blockquote><p>java: Generating equals/hashCode implementation but without a call to superclass, even though this class does not extend java.lang.Object. If this is intentional, add &#39;@EqualsAndHashCode(callSuper=false)&#39; to your type.</p><p>ç¿»è¯‘ï¼š</p></blockquote><p><strong>åŸå› ï¼š</strong>ç”¨ <code>Lombok</code> çš„@Dataæ³¨è§£çš„æ—¶å€™ï¼Œå½“å‰ç±»ç»§æ‰¿äº†ä¸€ä¸ªå…¬å…±çš„BaseåŸºç¡€ç±»ã€‚æ­¤å¼‚å¸¸å°±æ˜¯çˆ¶ç±»çš„å±æ€§ä¸ä¼šè‡ªåŠ¨åŠ ä¸Šã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p><ul><li><p>å½“å‰ç±»ç›´æ¥åŠ å…¥æ³¨è§£ <code>@EqualsAndHashCode(callSuper = true)</code>ã€‚</p></li><li><p>åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ä¸‹æ–°å»º <code>lombok.config</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼šï¼ˆ<strong>æ¨è</strong>ï¼‰</p><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">config.stopbubbling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lombok.equalsandhashcode.callsuper</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">=call</span></span></code></pre></div></li></ul><p><strong>æ€»ç»“ï¼š</strong></p><p>æ ¹æ®é˜¿é‡Œ çš„<strong>ç¼–ç è§„èŒƒ</strong>ï¼Œå¦‚æœé‡å†™äº† <code>equals</code> å¿…éœ€é‡å†™ <code>hashCode</code> æ–¹æ³•ã€‚å¦‚æœä¸é‡å†™å¯èƒ½ä¼šå¯¼è‡´æŸäº›åŸºäºæ•£åˆ—çš„æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚HashSetã€HashMapç­‰ï¼‰å‡ºç°é—®é¢˜ã€‚</p><h2 id="ä¸“æœ‰åè¯è§£é‡Š" tabindex="-1">ä¸“æœ‰åè¯è§£é‡Š <a class="header-anchor" href="#ä¸“æœ‰åè¯è§£é‡Š" aria-label="Permalink to â€œä¸“æœ‰åè¯è§£é‡Šâ€">â€‹</a></h2><ul><li><p>DOï¼ˆData Objectï¼‰ï¼šé˜¿é‡Œå·´å·´ä¸“æŒ‡æ•°æ®åº“è¡¨ä¸€ä¸€å¯¹åº”çš„ POJO ç±»ã€‚æ­¤å¯¹è±¡ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸€ ä¸€å¯¹åº”ï¼Œé€šè¿‡ DAO å±‚å‘ä¸Šä¼ è¾“æ•°æ®æºå¯¹è±¡ã€‚</p></li><li><p>Queryï¼šæ•°æ®æŸ¥è¯¢å¯¹è±¡ï¼Œå„å±‚æ¥æ”¶ä¸Šå±‚çš„æŸ¥è¯¢è¯·æ±‚ã€‚æ³¨æ„è¶…è¿‡ 2 ä¸ªå‚æ•°çš„æŸ¥è¯¢å°è£…ï¼Œç¦æ­¢ä½¿ç”¨ Map ç±»æ¥ä¼ è¾“ã€‚</p></li></ul><p><img src="`+E+'" alt="image-20240520152814813"></p>',138)])])}const b=l(d,[["render",g]]);export{A as __pageData,b as default};
